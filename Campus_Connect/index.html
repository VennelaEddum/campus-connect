<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CampusConnect — Quiz & Roadmap Platform</title>

<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
  }
  body {
    background: #f4f6fb;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 20px;
  }
  .container {
  width: 700px;      /* Increased from 360px */
  background: white;
  padding: 40px 40px; /* More padding for breathing space */
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,.1);
}

  h1 {
    text-align: center;
    margin-bottom: 6px;
    color: #3b3b98;
  }
  p.subtitle {
    text-align: center;
    color: #555;
    margin-bottom: 20px;
  }
  .tab-buttons {
    display: flex;
    gap: 8px;
    margin-bottom: 24px;
    justify-content: center;
  }
  .tab-buttons button {
    flex: 1;
    padding: 10px 0;
    border-radius: 15px;
    border: 1.5px solid #ccc;
    background: #f8faff;
    cursor: pointer;
    font-weight: 600;
    color: #666;
    transition: all 0.3s ease;
  }
  .tab-buttons button.active {
    background: #4f46e5;
    border-color: #4f46e5;
    color: white;
  }

  /* Shared styles */
  select {
    width: 100%;
    padding: 10px 12px;
    border-radius: 12px;
    border: 1.5px solid #ccc;
    margin-bottom: 20px;
    font-size: 16px;
    cursor: pointer;
  }

  button.next-btn, button#startQuizBtn {
    width: 100%;
    padding: 12px;
    border-radius: 14px;
    border: none;
    background: #4f46e5;
    color: white;
    font-weight: 600;
    cursor: pointer;
    margin-top: 10px;
    transition: background 0.3s ease;
  }
  button.next-btn:disabled, button#startQuizBtn:disabled {
    background: #a6a6a6;
    cursor: not-allowed;
  }

  /* QUIZ Section */
  #quizSection {
    display: none;
  }
  #quizSection.active {
    display: block;
  }

  .progress-bar {
    height: 10px;
    width: 100%;
    background: #eee;
    border-radius: 6px;
    overflow: hidden;
    margin-bottom: 18px;
  }
  .progress-bar-fill {
    height: 100%;
    background: #4f46e5;
    width: 0%;
    transition: width 0.3s ease;
  }
  .question-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }
  .question-number {
    font-weight: 700;
    font-size: 18px;
    color: #3b3b98;
  }
  .difficulty {
    font-size: 13px;
    font-weight: normal;
    padding: 4px 10px;
    border-radius: 15px;
    background: #ddd;
    color: #555;
  }
  .timer {
    font-weight: 600;
    color: #4f46e5;
    font-size: 14px;
    user-select: none;
  }
  .question-text {
    font-weight: 700;
    font-size: 16px;
    margin-bottom: 12px;
    color: #222;
  }
  .options {
    list-style: none;
    margin-bottom: 12px;
  }
  .options li {
    margin-bottom: 10px;
  }
  .options label {
    padding: 10px 12px;
    border: 1.5px solid #ccc;
    border-radius: 12px;
    display: block;
    cursor: pointer;
    user-select: none;
    transition: all 0.2s ease;
  }
  .options input[type="radio"]:checked + label {
    background: #4f46e5;
    color: white;
    border-color: #4f46e5;
  }
  .feedback {
    margin: 12px 0;
    padding: 12px;
    border-radius: 14px;
    display: none;
    font-weight: 600;
  }
  .correct {
    background: #e6ffef;
    color: #0f9d58;
  }
  .incorrect {
    background: #ffecec;
    color: #d93025;
  }
  .score-box {
    display: none;
    text-align: center;
    margin-top: 20px;
  }

  /* ROADMAP Section */
  #roadmapSection {
    display: none;
  }
  #roadmapSection.active {
    display: block;
  }
  #branchSelect {
    margin-bottom: 20px;
  }
  .roadmap-list div {
    background: #f8faff;
    border: 1px solid #e7eaf5;
    border-radius: 14px;
    padding: 12px;
    margin-bottom: 10px;
    font-weight: 600;
    color: #3b3b98;
  }
  .roadmap-list div span {
    font-weight: 400;
    color: #666;
    margin-left: 8px;
    font-size: 14px;
  }
  
</style>
</head>
<body>

<div class="container">
  <h1>CampusConnect</h1>
  <p class="subtitle">Your all-in-one Quiz & Roadmap platform</p>

  <div class="tab-buttons">
    <button id="tabQuiz" class="active" onclick="showTab('quiz')">Quiz</button>
    <button id="tabRoadmap" onclick="showTab('roadmap')">Roadmap</button>
  </div>

  <!-- Quiz Section -->
  <section id="quizSection" class="active">
    <select id="categorySelect">
      <option value="">Select Quiz Category</option>
      <option value="basics">Basics (First Year)</option>
      <option value="dsa">Data Structures & Algorithms</option>
      <option value="webdev">Web Development</option>
      <option value="cn">Computer Networks</option>
    </select>
    <button id="startQuizBtn" disabled onclick="startQuiz()">Start Quiz</button>
   <a href="dashboard.html"><button id="startQuizBtn" onclick="goToDashboard()">
    <i class="fas fa-arrow-left"></i> Back
</button>

    <div id="quizBox" style="display:none;">
      <div class="progress-bar"><div class="progress-bar-fill" id="progressFill"></div></div>

      <div class="question-header">
        <span class="question-number" id="questionNumber">Q1</span>
        <span class="difficulty" id="difficultyLabel">⭐ Easy</span>
        <span class="timer" id="timer">15s</span>
      </div>

      <p class="question-text" id="questionText"></p>

      <ul class="options" id="optionsList"></ul>

      <div class="feedback" id="feedbackBox"></div>

      <button class="next-btn" id="nextBtn" disabled onclick="nextQuestion()">Next</button>
    </div>

    <div class="score-box" id="scoreBox">
      <h2>Your Score</h2>
      <p id="scoreText"></p>
      <button class="next-btn" onclick="restart()">Play Again</button>
      <a href="dashboard.html"><button class="next-btn">Exit</button>
    </div>
  </section>

  <!-- Roadmap Section -->
  <section id="roadmapSection">
    <select id="branchSelect">
      <option value="">Select BTech Branch</option>
      <option value="cse">Computer Science & Engineering</option>
      <option value="ece">Electronics & Communication</option>
      <option value="civil">Civil Engineering</option>
      <option value="mech">Mechanical Engineering</option>
    </select>

    <div class="roadmap-list" id="roadmapList"></div>
  </section>
</div>

<script>
  // Tabs toggle
  function showTab(tab) {
    const quizSection = document.getElementById('quizSection');
    const roadmapSection = document.getElementById('roadmapSection');
    const tabQuizBtn = document.getElementById('tabQuiz');
    const tabRoadmapBtn = document.getElementById('tabRoadmap');

    if(tab === 'quiz') {
      quizSection.classList.add('active');
      roadmapSection.classList.remove('active');
      tabQuizBtn.classList.add('active');
      tabRoadmapBtn.classList.remove('active');
    } else {
      roadmapSection.classList.add('active');
      quizSection.classList.remove('active');
      tabRoadmapBtn.classList.add('active');
      tabQuizBtn.classList.remove('active');
    }
  }

  // Question bank by category
  const questionBank = {
    basics: [
      { q: "What is 2 + 2?", options: ["3", "4", "5", "6"], answer: 1, difficulty: "easy" },
      { q: "Derivative of x²?", options: ["x", "2x", "x²", "2"], answer: 1, difficulty: "medium" },
      { q: "Unit of force?", options: ["Newton", "Pascal", "Joule", "Watt"], answer: 0, difficulty: "easy" },
      { q: "Speed of light?", options: ["3x10⁸ m/s", "5x10⁸ m/s", "1x10⁸ m/s", "None"], answer: 0, difficulty: "medium" }
    ],
    dsa: [
      { q: "Time complexity of binary search?", options: ["O(n)", "O(log n)"], answer: 1, difficulty: "easy" },
      { q: "Which data structure is FIFO?", options: ["Stack", "Queue", "Tree", "Graph"], answer: 1, difficulty: "medium" },
      { q: "What is the worst-case complexity of QuickSort?", options: ["O(n log n)", "O(n²)"], answer: 1, difficulty: "hard" },
      { q: "Which data structure uses LIFO?", options: ["Queue", "Stack"], answer: 1, difficulty: "easy" }
    ],
    webdev: [
      { q: "What does HTML stand for?", options: ["Hyper Text Markup Language", "Home Tool Markup Language"], answer: 0, difficulty: "easy" },
      { q: "Which language is used for styling web pages?", options: ["HTML", "JQuery", "CSS", "XML"], answer: 2, difficulty: "easy" },
      { q: "Which JavaScript method is used to select an element by ID?", options: ["getElementByClassName", "getElementById", "querySelectorAll"], answer: 1, difficulty: "medium" },
      { q: "What is the correct syntax for referring to an external script called 'app.js'?", options: ["<script href='app.js'>", "<script src='app.js'>", "<script ref='app.js'>"], answer: 1, difficulty: "medium" }
    ],
    cn: [
      { q: "What does IP stand for?", options: ["Internet Protocol", "Internal Process"], answer: 0, difficulty: "easy" },
      { q: "TCP is connection-oriented?", options: ["True", "False"], answer: 0, difficulty: "medium" },
      { q: "What layer does HTTP work on?", options: ["Application Layer", "Network Layer"], answer: 0, difficulty: "medium" },
      { q: "What device forwards data packets between networks?", options: ["Switch", "Router", "Hub", "Repeater"], answer: 1, difficulty: "medium" }
    ]
  };

  const categorySelect = document.getElementById("categorySelect");
  const startQuizBtn = document.getElementById("startQuizBtn");
  const quizBox = document.getElementById("quizBox");
  const questionNumber = document.getElementById("questionNumber");
  const difficultyLabel = document.getElementById("difficultyLabel");
  const questionText = document.getElementById("questionText");
  const optionsList = document.getElementById("optionsList");
  const feedbackBox = document.getElementById("feedbackBox");
  const nextBtn = document.getElementById("nextBtn");
  const scoreBox = document.getElementById("scoreBox");
  const scoreText = document.getElementById("scoreText");
  const progressFill = document.getElementById("progressFill");
  const timerElem = document.getElementById("timer");

  let currentQuestions = [];
  let currentIndex = 0;
  let score = 0;
  let timerInterval;
  const maxTime = 15;
  let timeLeft = maxTime;

  categorySelect.addEventListener("change", () => {
    startQuizBtn.disabled = !categorySelect.value;
  });

  function startQuiz() {
    const cat = categorySelect.value;
    if(!cat || !questionBank[cat]) return;

    currentQuestions = questionBank[cat];
    currentIndex = 0;
    score = 0;
    timeLeft = maxTime;

    categorySelect.style.display = "none";
    startQuizBtn.style.display = "none";

    quizBox.style.display = "block";
    scoreBox.style.display = "none";

    loadQuestion();
    updateProgressBar();
    startTimer();

    nextBtn.disabled = true;
  }

  function loadQuestion() {
    clearInterval(timerInterval);
    timeLeft = maxTime;
    timerElem.innerText = `${timeLeft}s`;
    nextBtn.disabled = true;

    const qData = currentQuestions[currentIndex];
    questionNumber.innerText = `Q${currentIndex + 1}`;
    difficultyLabel.innerText = formatDifficulty(qData.difficulty);
    questionText.innerText = qData.q;

    optionsList.innerHTML = "";
    feedbackBox.style.display = "none";

    qData.options.forEach((opt, i) => {
      const li = document.createElement("li");
      li.innerHTML = `
        <input type="radio" name="option" id="opt${i}" value="${i}" />
        <label for="opt${i}">${opt}</label>
      `;
      optionsList.appendChild(li);
    });

    // Add click listeners on radios
    document.querySelectorAll("input[name='option']").forEach(el => {
      el.addEventListener('change', e => {
        checkAnswer(parseInt(e.target.value));
      });
    });

    startTimer();
  }

  function formatDifficulty(level) {
    switch(level) {
      case "easy": return "⭐ Easy";
      case "medium": return "⭐⭐ Medium";
      case "hard": return "⭐⭐⭐ Hard";
      default: return "";
    }
  }

  function checkAnswer(selected) {
    clearInterval(timerInterval);
    const qData = currentQuestions[currentIndex];

    if(selected === qData.answer) {
      feedbackBox.className = "feedback correct";
      feedbackBox.innerText = "Correct ✔";
      score++;
    } else {
      feedbackBox.className = "feedback incorrect";
      feedbackBox.innerText = `Incorrect ✖ — Correct answer: ${qData.options[qData.answer]}`;
    }
    feedbackBox.style.display = "block";

    // Disable all options
    document.querySelectorAll("input[name='option']").forEach(i => i.disabled = true);
    nextBtn.disabled = false;
  }

  function nextQuestion() {
    currentIndex++;
    if(currentIndex < currentQuestions.length) {
      loadQuestion();
      updateProgressBar();
    } else {
      showScore();
    }
  }

  function showScore() {
    clearInterval(timerInterval);
    quizBox.style.display = "none";
    scoreBox.style.display = "block";
    scoreText.innerText = `You scored ${score} / ${currentQuestions.length}`;
  }

  function restart() {
    categorySelect.style.display = "block";
    startQuizBtn.style.display = "block";

    quizBox.style.display = "none";
    scoreBox.style.display = "none";

    categorySelect.value = "";
    startQuizBtn.disabled = true;

    currentQuestions = [];
    currentIndex = 0;
    score = 0;
  }

  function updateProgressBar() {
    const total = currentQuestions.length;
    const progressPercent = (currentIndex / total) * 100;
    progressFill.style.width = `${progressPercent}%`;
  }

  function startTimer() {
    clearInterval(timerInterval);
    timeLeft = maxTime;
    timerElem.innerText = `${timeLeft}s`;

    timerInterval = setInterval(() => {
      timeLeft--;
      timerElem.innerText = `${timeLeft}s`;

      if(timeLeft <= 0) {
        clearInterval(timerInterval);
        timeOut();
      }
    }, 1000);
  }

  function timeOut() {
    const qData = currentQuestions[currentIndex];
    feedbackBox.className = "feedback incorrect";
    feedbackBox.innerText = `Time's up! Correct answer: ${qData.options[qData.answer]}`;
    feedbackBox.style.display = "block";

    document.querySelectorAll("input[name='option']").forEach(i => i.disabled = true);
    nextBtn.disabled = false;
  }

  // Roadmap data for BTech branches with topics and suggested start semester
  const roadmapData = {
    cse: [
      { topic: "Programming Basics", start: "1st Semester" },
      { topic: "Data Structures & Algorithms (DSA)", start: "2nd Semester" },
      { topic: "Web Development (HTML, CSS, JS)", start: "3rd Semester" },
      { topic: "Database Management Systems", start: "4th Semester" },
      { topic: "Operating Systems & Networking", start: "5th Semester" },
      { topic: "Machine Learning Basics", start: "6th Semester" },
      { topic: "Advanced Topics & Projects", start: "7th Semester" },
      { topic: "Internships & Placements", start: "8th Semester" }
    ],
    ece: [
      { topic: "Basic Electronics & Circuit Theory", start: "1st Semester" },
      { topic: "Digital Logic Design", start: "2nd Semester" },
      { topic: "Microcontrollers & Embedded Systems", start: "3rd Semester" },
      { topic: "Communication Systems", start: "4th Semester" },
      { topic: "Signal Processing", start: "5th Semester" },
      { topic: "VLSI Design", start: "6th Semester" },
      { topic: "Embedded Projects", start: "7th Semester" },
      { topic: "Internships & Placements", start: "8th Semester" }
    ],
    civil: [
      { topic: "Engineering Mechanics", start: "1st Semester" },
      { topic: "Building Materials", start: "2nd Semester" },
      { topic: "Surveying", start: "3rd Semester" },
      { topic: "Structural Analysis", start: "4th Semester" },
      { topic: "Concrete Technology", start: "5th Semester" },
      { topic: "Transportation Engineering", start: "6th Semester" },
      { topic: "Environmental Engineering", start: "7th Semester" },
      { topic: "Internships & Placements", start: "8th Semester" }
    ],
    mech: [
      { topic: "Thermodynamics Basics", start: "1st Semester" },
      { topic: "Fluid Mechanics", start: "2nd Semester" },
      { topic: "Manufacturing Processes", start: "3rd Semester" },
      { topic: "Machine Design", start: "4th Semester" },
      { topic: "Heat Transfer", start: "5th Semester" },
      { topic: "CAD/CAM", start: "6th Semester" },
      { topic: "Automobile Engineering", start: "7th Semester" },
      { topic: "Internships & Placements", start: "8th Semester" }
    ]
  };

  const branchSelect = document.getElementById("branchSelect");
  const roadmapList = document.getElementById("roadmapList");

  branchSelect.addEventListener("change", () => {
    roadmapList.innerHTML = "";
    const branch = branchSelect.value;
    if(branch && roadmapData[branch]) {
      roadmapData[branch].forEach(item => {
        const div = document.createElement("div");
        div.textContent = item.topic;
        const span = document.createElement("span");
        span.textContent = `(Start: ${item.start})`;
        div.appendChild(span);
        roadmapList.appendChild(div);
      });
    }
  });

  // Initialize first view
  showTab('quiz');
</script>

</body>
</html>